var contestGraph={resultsGraphV1:"",allAttempts:"#allAttempts",scoreChart:"#scoreChart",accuracyChart:"#accuracyChart",timeChart:"#timeChart",allContestChart:"#allContestChart",init:function(){var _self=this;_self.getGraph()},getGraph:function(){var _self=this;$(_self.allAttempts+","+_self.scoreChart+","+_self.accuracyChart+","+_self.timeChart).html("");$(_self.allAttempts+","+_self.scoreChart+","+_self.accuracyChart+","+_self.timeChart).nextUntil("div").remove();$(_self.allAttempts+","+_self.scoreChart+","+_self.accuracyChart+","+_self.timeChart).css("display","none");if(_self.resultsGraphV1.allAttempts!="[]"){google.charts.load("current",{packages:["line"]});google.charts.setOnLoadCallback(function(){_self.drawAllAttemptsChart(_self.resultsGraphV1.allAttempts)})}google.charts.load("current",{packages:["corechart"]});google.charts.setOnLoadCallback(function(){_self.drawScoreComparisonChart(_self.resultsGraphV1.scoreChart)});if(_self.resultsGraphV1.accuracyChart!=""){google.charts.load("current",{packages:["bar"]});google.charts.setOnLoadCallback(function(){_self.drawAccuracyChart(_self.resultsGraphV1.accuracyChart)})}google.charts.setOnLoadCallback(function(){_self.drawTimeChart(_self.resultsGraphV1.timeChart)})},drawScoreComparisonChart:function(results){try{var _self=this;results=results;$(_self.scoreChart).css("display","block");var data=google.visualization.arrayToDataTable([["Parameter","Score",{role:"style"}],["Minimum",results["avgMaxScore"]["min"],"#b87333"],["Average",results["avgMaxScore"]["average"],"#4285f4"],["Your Score",results["userScore"],"#db4437"],["Highest",results["avgMaxScore"]["max"],"#0f9d58"]]);var view=new google.visualization.DataView(data);view.setColumns([0,1,{calc:"stringify",sourceColumn:1,type:"string",role:"annotation"},2]);var options={height:400,width:800,bar:{groupWidth:"35%"},legend:{position:"none"}};var chart=new google.visualization.BarChart(document.getElementById("scoreChart"));chart.draw(view,options)}catch(err){$(".first_attempt").remove()}},drawAllAttemptsChart:function(results){try{var _self=this;$(_self.allAttempts).css("display","block");var data=new google.visualization.arrayToDataTable(results);var options={height:400,width:800,vAxis:{gridlines:{count:4}},annotations:{stem:{length:0}}};var chart=new google.charts.Line(document.getElementById("allAttempts"));chart.draw(data,google.charts.Line.convertOptions(options))}catch(err){$(".attempts_chart").remove()}},drawAccuracyChart:function(results){try{var _self=this;$(_self.accuracyChart).css("display","block");var data=google.visualization.arrayToDataTable(results);var options={chart:{bar:{groupWidth:"1%"}},height:400,width:800};var chart=new google.charts.Bar(document.getElementById("accuracyChart"));chart.draw(data,google.charts.Bar.convertOptions(options))}catch(err){$(".accuracy_chart").remove()}},drawTimeChart:function(results){try{var _self=this;results=results;$(_self.timeChart).css("display","block");var data=new google.visualization.DataTable;var data=google.visualization.arrayToDataTable([["Parameter","minutes",{role:"style"}],["Top 15 users Avg Time",parseInt(results["avgTime"]),"#4285f4"],["Time Taken by You",parseInt(results["userTimeTaken"]),"#db4437"]]);var options={height:400,width:800,legend:"none",bar:{groupWidth:"15%"},vAxis:{gridlines:{count:4}}};var chart=new google.visualization.ColumnChart(document.getElementById("timeChart"));chart.draw(data,options)}catch(err){$(".time_chart").remove()}}};