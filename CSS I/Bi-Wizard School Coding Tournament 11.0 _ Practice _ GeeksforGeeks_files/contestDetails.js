var allowCutCopy=true;var faultyQuestions=[];var prevChar="";var isContestStarted=false;var sessionKeyForUser="";var isContestEndedForUser=false;var isContestEndedForUserInBrowser=false;var registerFormType=null;var feedbackLink=null;function inpNum(e,question_id){e=e||window.event;var charCode=typeof e.which=="undefined"?e.keyCode:e.which;var charStr=String.fromCharCode(charCode);var str=$(`input[question-id=${question_id}]`)[0].value;if(!charStr.match(/^[0-9.-]+$/)||charStr=="-"&&isNaN(str+charStr)&&str.length>1||charStr=="."&&(str.match(/\./g)||[]).length!=0||charStr=="-"&&(str.match(/\-/g)||[]).length!=0||charStr=="."&&(str==""||prevChar==charStr))e.preventDefault();else prevChar=charStr}function hideClasses(classList){classList.forEach(classElement=>$(classElement).hide())}window.onpopstate=function(event){try{var state=JSON.stringify(event.state);state=JSON.parse(state);var classList=[".contest_home_main",".quiz_main",".coding_problems_main"];$(".header-main__list-item").removeClass("tab_active");if(state===null||state===undefined){state={};var pathname=window.location.pathname;pathname=pathname.split("/");pathname=pathname[pathname.length-1];current_tab=$(".header-main__list-item[tab-id="+pathname+"]").attr("data-id");if(current_tab!==null&&current_tab!==undefined){current_tab=current_tab.substring(0,current_tab.length-4);state["current_tab"]=current_tab}else{state["sidebar_tab"]=pathname}}if(state["sidebar_tab"]!==undefined){var sidebar_tab=state["sidebar_tab"];$(".header-main__list-item[tab-id=instructions]").addClass("tab_active");classList.push(".contest_home_instructions");classList.push(".contest_home_summary");classList.push(".contest_home_leaderboard");hideClasses(classList);$(".contest_home_main").show();current_tab=".contest_home_"+sidebar_tab;$(current_tab).show();$(".side_tab").removeClass("active");$(".side_tab[data-id="+sidebar_tab+"]").addClass("active");currentTab=sidebar_tab}if(state["current_tab"]!==undefined){var current_tab=state["current_tab"];$(".header-main__list-item[data-id="+current_tab+"_tab]").addClass("tab_active");hideClasses(classList);current_view="."+current_tab+"_main";$(".contest_home_instructions").show();$(".side_tab").removeClass("active");$(".side_tab[data-id=instructions]").addClass("active");$(current_view).show();currentTab=current_tab}}catch(error){console.log("Error in changing state "+error)}};$("#reportIssueContestBtn").on("click",function(){activeTab="contest-issue";entity_id=contestId;contentType=1;$(".report-issue-tabs ."+activeTab).addClass("active");$("#"+activeTab).addClass("active in")});var contestObj={controllerPath:"",sidetab:".side_tab",headertab:".header-main__list-item",contestHome:".contest_home_main",quiz:".quiz_main",codingProblems:".coding_problems_main",contestHomeInstructions:".contest_home_instructions",contestHomeSummary:".contest_home_summary",contestHomeLeaderboard:".contest_home_leaderboard",ptype:"#ptype",addComment:"#commentBoxButton",leaderboardLoader:"#contest_home_leaderboard_loader",leaderboardCover:".contest_home_leaderboard_cover",quizData:null,quizSectionSelector:"#quiz_section_select",quizSectionHeaderSelector:".quiz_head_select",quizQuestionsSections:"#quiz_sections",quizCover:".quiz_section_cover",quizLoader:"#contest_home_quiz_loader",quizQuestions:".question_inner_wrapper",quizQuestionSelector:".quiz_question_select",quizPreviousButton:".previous_button_quiz",quizBookmarkButton:".bottom_button_bookmark_quiz",quizSubmitButton:".submit_btn_quiz",quizSaveAndNextButton:".save_and_next_button_quiz",quizSaveAndNextInfo:".quiz_submit_message",quizNextButton:".next_btn_quiz",quizQuestion:".quiz_question",quizOption:".contest_quiz_option",resetSubjectiveResponse:".reset_ans_icon",quizQuestionStatusArray:{0:"incorrect answered",1:"correct answered",2:"marked",3:"",4:"answered",5:"response cleared"},quizQuestionAnsweredCountSelector:".quiz_qsns_ansrd",quizQuestionMarkedCountSelector:".quiz_qsns_marked",quizQuestionUnansweredCountSelector:".quiz_qsns_unansrd",quizQuestionAnsweredCount:0,quizQuestionMarkedCount:0,quizQuestionUnansweredCount:0,quizSubmitBtn:"#quiz_submit_btn",quizActionBtn:".quiz_action_button",leaderboardRankingPaginationSelector:".contest_home_leaderboard .pages",leaderboardRankingPageLinkSelector:".contest_home_leaderboard .pagination a",leaderboardRefreshButtonSelector:".contest_leaderboard__refresh-button",leaderboardRankingTypeSelector:"#contest_leaderboard_ranking_type",leaderboardRankingTableSelector:".leaderboard-rankings-table",isSummaryDataLoaded:false,isQuizDataLoaded:false,contestEndTestBtn:"#endTest",contestSubmitButtonAutoEnd:".contest_submit_btn",contestSubmitBtn:"#contest_submit_btn",feedbackSubmitBtn:"#feedback_submit_btn",errorModalContest:"#errorModalContest",reloadBtn:"#reload_button",beginQuizButton:".begin_contest_quiz",viewProblemsButton:".view_contest_problems",displayCorrectAnswer:false,review_submissions:false,lastFetchedLeaderboardPage:undefined,lastFetchedLeaderboardType:undefined,summaryDataLoaded:false,leaderboardDataLoaded:false,displaySummary:false,displayQuiz:false,displayGraphs:false,userQuizResponse:null,codingScore:0,displaySubmissions:false,problemMetaData:null,revealAnswerActionBtn:".reveal_answer_action_button",revealAnswerBtn:".submit_btn_reveal_answer",showAnswers:false,showAnswersTime:"",showExpectedOutput:false,leaderboardImpMsg:".leaderboardImpMsg",delayInMilliseconds:(Math.floor(Math.random()*15)+1)*1e3,init:function(){var _self=this;_self.fetchContestDetails();if(currentTab=="leaderboard"){_self.loadLeaderboardRankingsData();_self.leaderboardDataLoaded=true}$(document).on("click",_self.sidetab,function(e){e.preventDefault();_self.ChangeContestHomeScreen($(this).attr("data-id"));var newUrl=location.href.replace(currentTab,$(this).attr("data-id"));history.pushState({sidebar_tab:$(this).attr("data-id")},null,newUrl);currentTab=$(this).attr("data-id");if(_self.leaderboardDataLoaded==false&&currentTab=="leaderboard"){_self.loadLeaderboardRankingsData();_self.leaderboardDataLoaded=true}});$(document).on("click",_self.reloadBtn,function(e){e.preventDefault();window.location.replace(location.href)});$(document).on("click",_self.beginQuizButton,function(e){e.preventDefault();$(".header-main__list-item").removeClass("tab_active");$(".header-main__list-item[tab-id=quiz]").addClass("tab_active");var classList=[".contest_home_main",".quiz_main",".coding_problems_main"];hideClasses(classList);var current_tab="quiz_tab";current_tab=current_tab.substring(0,current_tab.length-4);current_view="."+current_tab+"_main";$(current_view).show();var newUrl=location.href.replace(currentTab,"quiz");history.pushState({current_tab:current_tab},null,newUrl);currentTab="quiz"});$(document).on("click",_self.viewProblemsButton,function(e){e.preventDefault();$(".header-main__list-item").removeClass("tab_active");$(".header-main__list-item[tab-id=problems]").addClass("tab_active");var classList=[".contest_home_main",".quiz_main",".coding_problems_main"];hideClasses(classList);var current_tab="coding_problems_tab";current_tab=current_tab.substring(0,current_tab.length-4);current_view="."+current_tab+"_main";$(current_view).show();var newUrl=location.href.replace(currentTab,"problems");history.pushState({current_tab:current_tab},null,newUrl);currentTab="problems";generateSubmissiontable()});$('[data-toggle="tooltip"]').click(function(){$('[data-toggle="tooltip"]').tooltip("hide")});$(document).on("click",_self.headertab,function(e){e.preventDefault();$(".header-main__list-item").removeClass("tab_active");$(this).addClass("tab_active");var classList=[".contest_home_main",".quiz_main",".coding_problems_main",".contest_home_summary",".contest_home_leaderboard"];hideClasses(classList);var current_tab=$(this).attr("data-id");current_tab=current_tab.substring(0,current_tab.length-4);current_view="."+current_tab+"_main";$(current_view).show();$(".contest_home_instructions").show();$(".side_tab").removeClass("active");$(".side_tab[data-id=instructions]").addClass("active");var newUrl=location.href.replace(currentTab,$(this).attr("tab-id"));history.pushState({current_tab:current_tab},null,newUrl);currentTab=$(this).attr("tab-id");if(currentTab=="problems"){generateSubmissiontable()}});$(document).on("click",_self.quizQuestionSelector,function(e){e.preventDefault();_self.showQuestionfromQuestionSelector($(this).attr("questionb-order"))});$(document).on("click",_self.quizPreviousButton,function(e){e.preventDefault();_self.loadPreviousQuestionQuiz($(this).attr("question-order"))});$(document).on("click",_self.quizBookmarkButton,function(e){e.preventDefault();_self.markForReviewQuestion($(this).attr("question-order"),$(this).attr("question-id"));let that=this;$(this).prop("disabled",true);$(this).css("cursor","wait");setTimeout(function(){_self.enableButton(that)},1e3)});$(document).on("click",_self.quizOption,function(e){e.preventDefault();_self.selectQuizOption($(this).attr("question-id"),$(this).attr("option-id"))});$(document).on("click",_self.resetSubjectiveResponse,function(e){e.preventDefault();_self.clearSubjectiveResponse($(this).attr("question-id"))});$(document).on("click",_self.quizSaveAndNextButton,function(e){e.preventDefault();_self.submitQuestionResponse($(this).attr("question-id"),$(this).attr("question-order"))});$(document).on("click",_self.revealAnswerBtn,function(e){e.preventDefault();_self.revealQuestionAnswer()});$(document).on("click",_self.quizNextButton,function(e){e.preventDefault();_self.loadNextQuestionQuiz($(this).attr("question-order"))});$(document).on("change",_self.quizSectionSelector,function(e){e.preventDefault();_self.showLeftQuizSection($(this).val())});$(document).on("click",_self.contestEndTestBtn,function(e){e.preventDefault();if(contestTiming==0){$("#exampleModalLongTitle").remove()}$("#contestSubmitModal").modal()});$(document).on("click",_self.contestSubmitBtn,function(e){e.preventDefault();if(contestTiming==1){_self.finishFlexibleContest();_self.showFeedbackModal()}else if(contestTiming==0){_self.finishFixedContest();_self.showFeedbackModalFixedContest()}});$(document).on("click",_self.contestSubmitButtonAutoEnd,function(e){e.preventDefault();$(".contest_timer").remove();if(!isContestEndedForUserInBrowser){_self.showFeedbackModal()}else{isContestEndedForUserInBrowser=false;localStorage.removeItem(sessionKeyForUser)}if(contestTiming==0){isContestEndedForUser=true;_self.displayCorrectAnswer=true;_self.showAnswers=true;$(".bottom_button_bookmark_quiz").hide();$(".quiz_qsns_marked").parent().hide();$(".quiz_question_select").removeClass("marked");$(_self.revealAnswerBtn).show()}});$(document).on("click",_self.feedbackSubmitBtn,function(e){this.disabled=true;e.preventDefault();_self.submitFeedback(this)});if(!allowCutCopy){$("body").bind("cut copy",function(e){e.preventDefault()})}$("body").on("click",_self.leaderboardRankingPageLinkSelector,function(e){e.stopImmediatePropagation();let pageNo=e.target.innerText.trim().toLowerCase();if(pageNo=="<<")_self.loadLeaderboardRankingsData(_self.lastFetchedLeaderboardPage-1,_self.lastFetchedLeaderboardType);else if(pageNo==">>")_self.loadLeaderboardRankingsData(_self.lastFetchedLeaderboardPage+1,_self.lastFetchedLeaderboardType);else{pageNo=parseInt(pageNo);_self.loadLeaderboardRankingsData(pageNo,_self.lastFetchedLeaderboardType)}});$("body").on("click",_self.leaderboardRefreshButtonSelector,function(e){_self.loadLeaderboardRankingsData(_self.lastFetchedLeaderboardPage,_self.lastFetchedLeaderboardType)});$("body").on("change",_self.leaderboardRankingTypeSelector,function(e){_self.loadLeaderboardRankingsData(1,this.value)});$(document).on("click",".side_tab[data-id=summary]",function(e){_self.loadSummaryData()})},enableButton:function(ele){$(ele).prop("disabled",false);$(ele).css("cursor","")},ChangeContestHomeScreen:function(tab){var _self=this;var classList=[".contest_home_instructions",".contest_home_summary",".contest_home_leaderboard"];hideClasses(classList);var currentTab=".contest_home_"+tab;$(currentTab).show();$(_self.sidetab).removeClass("active");$("[data-id="+tab+"]").addClass("active");if(tab=="summary"){if(_self.summaryDataLoaded){contestGraph.init()}else{_self.loadSummaryData()}}},loadSummaryData:function(){var _self=this;if(_self.isSummaryDataLoaded==false){_self.isSummaryDataLoaded=true;$.ajax({type:"GET",url:_self.controllerPath+"/summary/",crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},data:{},success:function(response){if(response["status"]=="SUCCESS"){summary_data=response["results"]["attempts_data"];user_details=response["results"]["user_details"];attempt_count=summary_data["attempt_count"];all_attempts=summary_data["attempts"];$(".contest_home_summary_data").find(".profile-image").attr("src",user_details["profile_url"]);$(".contest_home_summary_data").find(".full-name").html(user_details["name"]);$(".contest_home_summary_data").find(".handle").html("@"+user_details["handle"]);first_attempt=all_attempts[0];if(first_attempt==undefined){$(".contest_home_summary_data").remove();$(".contest_home_summary_attempt").text("You haven't made any correct submission in this contest");$(".contest_home_summary_attempt").css("text-align","center");$(".contest_home_summary_attempt").css("padding","1em");$(".contest_home_summary_attempt").css("margin","1em");$(".contest_home_summary_attempt").css("font-size","medium")}else{$(".contest_home_summary_attempt").remove()}if(attempt_count>0){first_attempt["coding_score"]=first_attempt["coding_score"]?first_attempt["coding_score"]:0;first_attempt["quiz_score"]=first_attempt["quiz_score"]?first_attempt["quiz_score"]:0;if(first_attempt["rank"]){$("#total_rank").text(first_attempt["rank"])}else{$(".rank_card_summary").remove()}_self.fixedContestLiveButUserEnded=first_attempt["fixed_contest_live_but_user_ended"];if(_self.fixedContestLiveButUserEnded&&_self.displayQuiz){$(".fixed_contest_summary_msg").text("Rank and quiz scores will be visible once contest ends at "+first_attempt["fixed_contest_end_time_text"]);$(".fixed_contest_summary_msg").show()}else if(isContestEndedForUserInBrowser){$(".fixed_contest_summary_msg").text("Rank and quiz scores will be visible once contest ends");$(".fixed_contest_summary_msg").show()}else{$(".fixed_contest_summary_msg").hide()}$("#total_quiz_score").text(_self.fixedContestLiveButUserEnded||!isContestEndedForUser&&isContestEndedForUserInBrowser?"--":first_attempt["quiz_score"]);$("#total_coding_score").text(first_attempt["coding_score"]);_self.hasPlagiarismSubmissionsForUser=first_attempt["has_plagiarism_submissions_for_user"];if(_self.hasPlagiarismSubmissionsForUser&&_self.hasPlagiarismSubmissionsForUser==true){document.getElementById("plag_text").style.display="block"}var total_score=parseInt(parseInt(first_attempt["coding_score"])+parseInt(first_attempt["quiz_score"]));total_score=isNaN(total_score)?0:total_score;$(".summary_score").text(total_score+" Points");if(first_attempt["time_taken"]){$(".summary_time").text((parseInt(first_attempt["time_taken"])/60>0?parseInt(parseInt(first_attempt["time_taken"])/60)+" Hr ":"")+parseInt(first_attempt["time_taken"])%60+" Min")}else{$(".summary_time_taken_div").remove()}var show_coding_problem_summary=true;if(isNaN(first_attempt["coding_problems_solved"])){show_coding_problem_summary=false}else{var first_attempt_problems_coding_count=response["results"]["coding_problem_count"]>0?parseInt(first_attempt["coding_problems_solved"]):0;var first_attempt_problems_quiz_count=parseInt(first_attempt["quiz_problems_solved"]);first_attempt_total_problems_count=(isNaN(first_attempt_problems_coding_count)?0:first_attempt_problems_coding_count)+(isNaN(first_attempt_problems_quiz_count)?0:first_attempt_problems_quiz_count);first_attempt_total_problems_count=isNaN(first_attempt_total_problems_count)?0:first_attempt_total_problems_count;$(".summary_solved").text(first_attempt_total_problems_count+" Problems")}if(isNaN(response["results"]["bits_received_count"])||response["results"]["bits_received_count"]===null){$(".geek_bits_div").css("display","none");$(".summary_meta_data_div").removeClass("col-md-3");$(".summary_meta_data_div").addClass("col-md-4")}else{$(".summary_geek_bits").text(response["results"]["bits_received_count"]+" Geek Bits")}var score_comparison_text="";var average_score=parseInt(response["results"]["contest_average_score"]);if(average_score>total_score){score_comparison_text=parseInt(average_score-total_score);score_comparison_text+=" points Lower than Average"}else{score_comparison_text=parseInt(total_score-average_score);score_comparison_text+=" points Higher than Average"}$(".summary_score_meta").text(score_comparison_text);var time_comparison_text="";var average_time=parseInt(response["results"]["contest_average_time"]);average_time=isNaN(average_time)?0:average_time;if(average_time>first_attempt["time_taken"]){time_comparison_text=parseInt(average_time-first_attempt["time_taken"]);time_comparison_text+=" Mins Faster than Average"}else if(average_time<first_attempt["time_taken"]){time_comparison_text=parseInt(first_attempt["time_taken"]-average_time);time_comparison_text+=" Mins Slower than Average"}else{time_comparison_text="Matches the average time"}$(".summary_time_meta").text(time_comparison_text);var qsns_text="";var average_qsns_coding=response["results"]["coding_problem_count"]>0?parseInt(response["results"]["contest_average_problems_solved"]):0;var average_qsns_quiz=parseInt(response["results"]["contest_average_quiz_problems_solved"]);if(show_coding_problem_summary){average_qsns=average_qsns_quiz+average_qsns_coding;average_qsns=isNaN(average_qsns)?0:average_qsns;if(average_qsns>first_attempt_total_problems_count){qsns_text=parseInt(average_qsns-first_attempt_total_problems_count);qsns_text+=" Less than Average."}else{qsns_text=parseInt(first_attempt_total_problems_count-average_qsns);qsns_text+=" More than Average."}$(".summary_solved_meta").text(qsns_text)}else{$(".summary_problem_solved_count_div").remove()}}if(_self.displayGraphs&&response["results"]&&response["results"]["contest_graph_data"]){summary_graph_data=response["results"]["contest_graph_data"];contestGraph.resultsGraphV1=summary_graph_data["graph_data"];if(summary_graph_data["coding_problems_exist"]==false){$(".accuracy_chart").remove()}if(attempt_count<2){$(".attempts_chart").remove()}contestGraph.init()}else{$(".summary_charts").remove()}_self.summaryDataLoaded=true;$("#contest_home_summary_loader").hide();$(".contest_home_summary_data").show();if(registerFormType=="regularForm"){$(".get-contest-details-message").html("<span> You haven't submitted the required details yet, <a class='showContestUserDetails' style='cursor:pointer;'> Submit Now </a> </span>");$(".get-contest-details-message").show()}}else{_self.isSummaryDataLoaded=false}},error:function(jqXHR,exception,errorThrown){$(".contest_home_summary").remove();$(".side_tab[data-id='summary']").remove()},complete:function(){}})}},fetchContestDetails:function(){var _self=this;$.ajax({type:"GET",url:_self.controllerPath+"/start/",crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},data:{},success:function(response){response=response["results"];contestId=response["contest_id"];endDateTime=response["end_time"]?new Date(response["end_time"]):null;pageTitle=(response["name"]+pageTitle).replace(/(<([^>]+)>)/gi,"");document.title=pageTitle;response["coding_section"]=response["sections"]["coding_section"];response["quiz_section"]=response["sections"]["quiz_section"];contestHeaderData=response["contest_header_data"];isContestStarted=response["is_contest_started"];contestTiming=response["contest_timing"];isContestEndedForUser=response["contest_ended_for_user"];isContestEnded=response["is_contest_ended"];if(contestTiming==0){sessionKeyForUser=contestId.toString()+"-"+response["utoken"];if(isContestEnded===true){localStorage.removeItem(sessionKeyForUser)}contestSessionStorage=localStorage.getItem(sessionKeyForUser);isContestEndedForUserInBrowser=contestSessionStorage!==null?true:false;_self.displaySummary=contestSessionStorage!==null?true:response["contest_header_data"]["display_summary"]}else if(contestTiming==1){_self.displaySummary=response["contest_header_data"]["display_summary"]}registerFormType=response["contest_header_data"]["register_form_type"];feedbackLink=response["feedback_link"];_self.displayProblems=response["coding_section"]&&response["coding_section"]["total_questions"]&&response["coding_section"]["total_questions"]>0?true:false;_self.displayQuiz=response["quiz_section"]&&response["quiz_section"]["total_marks"]>0;_self.userQuizResponse=response["quiz_section"]["user_quiz_data"];_self.displayCorrectAnswer=response["quiz_section"].display_correct_answer;_self.fixedContestLiveButUserEnded=response["quiz_section"].fixed_contest_live_but_user_ended;_self.codingScore=response["coding_section"]["coding_score"];_self.displaySubmissions=response["contest_header_data"]["display_submissions"];_self.problemMetaData=response["coding_section"]["problems"];_self.displayGraphs=response["contest_header_data"]["display_summary_graphs"];_self.review_submissions=response["quiz_section"]["review_submissions"];_self.showAnswersTime=response["quiz_section"]["quiz_correct_answers_show_time"];_self.showExpectedOutput=response["show_expected_output"];if(contestId===5446||contestId===5447){$(_self.leaderboardImpMsg).html(`<br>*This is the final leaderboard after plagiarism check.`)}if(currentTab=="summary"&&_self.displaySummary==false){var newUrl=location.href.replace(currentTab,"instructions");history.pushState({},null,newUrl);$(_self.contestHomeInstructions).show();currentTab="instructions"}var tab=currentTab;if(tab=="instructions"||tab=="quiz"||tab=="problems")tab="instructions";if(!response["batch_id"])$("#back_to_course").remove();else $("#back_to_course").attr("href","/batchPage.php?batchId="+response["batch_id"]);if(!contestHeaderData["display_leaderboard"])$("[data-id=leaderboard]").remove();if(!_self.displaySummary)$("[data-id=summary]").remove();$("[data-id="+tab+"]").addClass("active");if(currentTab=="instructions"||currentTab=="leaderboard"||currentTab=="summary"){$(_self.contestHome).show();$("[data-id=contest_home_tab]").addClass("tab_active")}$(_self.contestHomeInstructions).find(".card-body").html(`<div class="card-title">\n                            `+response["name"]+(response["is_contest_ended"]!=undefined&&response["is_contest_ended"]==false?'<span class="contest_live_tag">Live</span>':"")+`\n                        </div>\n                        <div class="card-desc">`+response["description"]+`</div>`);var card_meta="";var total_questions=(_self.displayQuiz?response["quiz_section"]["total_questions"]:0)+(_self.displayProblems?response["coding_section"]["total_questions"]:0);var total_marks=(_self.displayQuiz?response["quiz_section"]["total_marks"]:0)+(_self.displayProblems?response["coding_section"]["total_marks"]:0);let quiz_qsn_meta=response["quiz_section"].status_count;_self.quizQuestionAnsweredCount=quiz_qsn_meta.answered;_self.quizQuestionMarkedCount=quiz_qsn_meta.marked;_self.quizQuestionUnansweredCount=quiz_qsn_meta.unanswered;if(total_questions>0&&total_marks>0){card_meta+=`<div><img class="contest_home_meta_icon"\n              src="https://media.geeksforgeeks.org/img-practice/Group4904-1610361147.svg">\n              <b>`+total_questions+` Questions</b>\n          </div>\n          <div><img class="contest_home_meta_icon"\n              src="https://media.geeksforgeeks.org/img-practice/Group4905-2-1610361262.svg">\n              <b>`+total_marks+` Marks</b>\n          </div>`}if(response["contest_timing"]!=undefined){if(response["contest_timing"]==1&&response["contest_duration"]!=undefined){card_meta+=`<div>\n                    <img class="contest_home_meta_icon" src="https://media.geeksforgeeks.org/img-practice/Group4905-1-1610362237.svg">\n                    <b>\n                    `+(response["contest_duration"]%60==0?response["contest_duration"]/60+" Hours":response["contest_duration"]+" Minutes")+`</b>\n                </div>`}else if(response["contest_timing"]==0&&response["timing_text"]){var str=$(response["timing_text"]).text();card_meta+=`<div style="display: flex;">\n                    <img class="contest_home_meta_icon" src="https://media.geeksforgeeks.org/img-practice/fixedcontestdatetime-1618999310.svg" style="position: relative;top: 17%;">\n                    <div style="font-size: small;">\n                        <b>From `+str.substring(0,25)+`</b>\n                        <b><p style="margin-top: -6px;">`+str.substring(25)+`</p></b>\n                    </div>\n                  </div>`}}$(_self.contestHomeInstructions).find(".card-meta").html(card_meta);var instructions=`<h2 class="contest-home__heading">Instructions for the Contest </h2>\n        <div class="contest-home__desc">`+response["instruction_prizes"]+`</div>`;$(_self.contestHomeInstructions).find(".instruction_prizes").html(instructions);if(_self.displayQuiz){var quizMetaData=response["quiz_section"];var quiz_div_html=`<h2 class="contest-home__heading">Quiz Details</h2>\n            <div class="contest-home__desc">`+quizMetaData["description"]+`</div>\n            <div class="row contest-home__metadiv">\n                <div class="col-md-6 col-xs-12">\n                    <div class="row">\n                        <div class="contest-home__meta col-md-6"><img class="contest_home_meta_icon"\n                                src="https://media.geeksforgeeks.org/img-practice/Group4904-1610361147.svg">`+quizMetaData["total_questions"]+`\n                            Questions</div>\n                        <div class="contest-home__meta col-md-6"><img class="contest_home_meta_icon"\n                                src="https://media.geeksforgeeks.org/img-practice/Group4905-2-1610361262.svg">`+quizMetaData["total_marks"]+`\n                            Marks</div>\n                    </div>\n                </div>\n                <div class="col-md-6 col-xs-12">\n                    <button class="btn contest-home__button begin_contest_quiz">Solve Quiz</button>\n                </div>\n            </div>`;$(_self.contestHomeInstructions).find(".quiz_div").html(quiz_div_html)}else{$(".contest_home_summary_data").find(".quiz_score").remove()}if(_self.displayProblems){var problemMetaData=response["coding_section"];var problem_div_html=`<h2 class="contest-home__heading">Coding Problem Details</h2>\n          <div class="contest-home__desc">`+problemMetaData["description"]+`</div>\n          <div class="row contest-home__metadiv">\n              <div class="col-md-6 col-xs-12">\n                  <div class="row">\n                      <div class="contest-home__meta col-md-6"><img class="contest_home_meta_icon"\n                              src="https://media.geeksforgeeks.org/img-practice/Group4906-1610361204.svg">`+problemMetaData["total_questions"]+`\n                          Questions</div>\n                      <div class="contest-home__meta col-md-6"><img class="contest_home_meta_icon"\n                              src="https://media.geeksforgeeks.org/img-practice/Group4905-2-1610361262.svg">`+problemMetaData["total_marks"]+`\n                          Marks</div>\n                  </div>\n              </div>\n              <div class="col-md-6 col-xs-12">\n                  <button class="btn contest-home__button view_contest_problems">Solve Problems</button>\n              </div>\n          </div>`;$(_self.contestHomeInstructions).find(".home_problem_div").html(problem_div_html)}else{$(".contest_home_summary_data").find(".coding_score").remove()}if(response["display_summary"]==false){$(_self.contestHomeSummary).remove()}else if(currentTab=="summary"){$(_self.contestHomeSummary).show()}if(response["display_leaderboard"]==false){$(_self.contestHomeLeaderboard).remove()}else if(currentTab=="leaderboard"){$(_self.contestHomeLeaderboard).show()}if(!_self.displayQuiz){$(_self.quiz).remove();$("[data-id=quiz_tab]").remove()}else if(currentTab=="quiz"){$(_self.quiz).show();$("[data-id=quiz_tab]").addClass("tab_active")}if(!_self.displayProblems){$(_self.codingProblems).remove();$("[data-id=coding_problems_tab]").remove()}else if(currentTab=="problems"){$(_self.codingProblems).show();$("[data-id=coding_problems_tab]").addClass("tab_active")}if(contestTiming==0||isContestEndedForUser){$(".endTest").remove()}else{$(".endTest").show()}if(response["is_contest_started"]&&response["contest_timing"]==0&&!response["is_contest_ended"]||response["contest_timing"]==1&&contestHeaderData["display_timer"]==true){$(".contest_timer").show();initializeClock("clockdiv",contestHeaderData["remaining_time"])}else{$(".contest_timer").remove()}if(response["show_calculator"]!=true){$("#gfg-calc").remove();$("#loadCalc").remove()}$(".contest-report-issue").find("#reportIssueContestBtn").attr("utoken",response["utoken"]);_self.loadContestQuestions();if(_self.displaySummary&&tab=="summary"){try{if(endDateTime&&new Date<new Date(endDateTime).setMinutes(endDateTime.getMinutes()+30)){setTimeout(()=>_self.loadSummaryData(),_self.delayInMilliseconds)}else{_self.loadSummaryData()}}catch(err){_self.loadSummaryData()}}if(_self.displayQuiz){$("#contestSubmitModal").find(".contest-modal-body").append(`\n          <h5><strong>Quiz Summary</strong></h5>\n                    <div class="row">\n                        <div class="col-md-6">\n                            <i class="fas fa-circle" style="color:#2F8D46"></i> Answered\n                            <span class="pull-right quiz_qsns_ansrd">0</span>\n                        </div>\n                        <div class="col-md-6">\n                            <i class="fas fa-circle" style="color:#D89614"></i> Marked For Review\n                            <span class="pull-right quiz_qsns_marked">0</span>\n                        </div>\n                        <div class="col-md-6">\n                            <i class="far fa-circle"></i> Unanswered\n                            <span class="pull-right quiz_qsns_unansrd">0</span>\n                        </div>\n                    </div>\n                    <hr />`)}if(_self.displayProblems){$("#contestSubmitModal").find(".contest-modal-body").append(`<h5><strong>Coding Problems Summary</strong></h5>\n          <div class="row">\n              <div class="col-md-6">\n                  <i class="fas fa-circle" style="color:#2F8D46"></i> Solved (Correct)\n                  <span class="pull-right coding_qsns_ansrd">0</span>\n              </div>\n              \x3c!-- <div class="col-md-6">\n                  <i class="fas fa-circle" style="color:#576A76"></i> Marked For Review\n                  <span class="pull-right quiz_qsns_marked">0</span>\n              </div> --\x3e\n              <div class="col-md-6">\n                  <i class="far fa-circle"></i> Unsolved\n                  <span class="pull-right coding_qsns_unansrd">0</span>\n              </div>\n          </div>`)}if(!response["show_expected_output"]){$(".expected_output").remove()}if(!response["display_overall_leaderboard"]){$(".contest_leaderboard_ranking_type_container").remove()}$(".preloader").fadeOut("slow");$("body").css("cursor","default")},error:function(jqXHR,exception,errorThrown){window.location.replace(currentContestUrl)},complete:function(){}})},loadContestQuestions:function(){var _self=this;if(_self.isQuizDataLoaded==false){$.ajax({type:"GET",url:_self.controllerPath+"/details/",crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},data:{},success:function(response){quiz_data=response["results"]["quiz_data"];problem_data=response["results"]["problem_data"];if(_self.fixedContestLiveButUserEnded){$(".bottom_button_bookmark_quiz").hide();$(".quiz_qsns_marked").parent().hide();$(_self.revealAnswerBtn).hide()}if(_self.displayCorrectAnswer==true){_self.showAnswers=true;$(".bottom_button_bookmark_quiz").hide();$(".quiz_qsns_marked").parent().hide()}else{if(_self.review_submissions==true){$(_self.quizBookmarkButton).hide();$(_self.quizQuestionMarkedCountSelector).parent().hide();$(_self.revealAnswerBtn).text("Review Submissions");$(_self.revealAnswerBtn).css("display","block")}else{$(_self.revealAnswerBtn).hide()}}_self.quizData=quiz_data;number_of_sections=quiz_data.total_sections;sections=quiz_data.sections;_self.prepareQuizQuestionsData(sections);_self.loadCodingProblem(problem_data);if(faultyQuestions.length>0){var formData=new FormData;formData.append("requestType","reportIssue");formData.append("issueGenre","Software");formData.append("issue","Error Encountered in the cdn_data for the following quiz questions having id's "+faultyQuestions.join(",")+".");formData.append("requestUrl",window.location.href);formData.append("pageTitle",$("title:first").text());formData.append("utoken",$("#utoken").text());if(typeof getUserBrowserDetails==="function")formData.append("browserDetails",getUserBrowserDetails()["allDetails"]);$.ajax({type:"POST",url:"/ajax/testCasesMail.php",processData:false,contentType:false,data:formData})}$(_self.quizLoader).hide();$(_self.quizCover).show();$(_self.revealAnswerBtn).attr("disabled",false);$(_self.quizPreviousButton).prop("disabled",true);$(_self.quizPreviousButton).css("color","#989898");_self.updateQuizQuestionsMeta();PR.prettyPrint();MathJax.typesetPromise(["body"]).catch(err=>console.log(err.message));if(_self.fixedContestLiveButUserEnded){_self.clearAllQuestionResponse()}},error:function(jqXHR,exception,errorThrown){$(_self.errorModalContest).modal()},complete:function(){}})}},loadCodingProblem:function(response){var _self=this;let problems=response["problems"];if(problems!=null&&problems!=undefined&&problems.length>0){let problemsCard="";problems.forEach(function(name,index){problems[index]={...problems[index],..._self.problemMetaData[problems[index].id]}});allProblems=problems;if(isContestEndedForUser){$(".submission-details").find("#submissionType").append(`<option value="allsubmission"> All Submissions </option>`)}else{$(".submission-details").find(".submission-status").remove()}if(contestSlug=="sample-geeks-challenge"||isContestEndedForUser){$(".coding-div").remove()}$(".submission-details").find("#submissionType").append(`<option value="mysubmission"> My Submissions </option>`);let count=0;if(_self.codingScore!=undefined&&_self.codingScore!=null){let loadingScore=parseFloat(_self.codingScore).toFixed(2);if(loadingScore>0)$(".coding-score").html(loadingScore)}problems.forEach(element=>{if(element["user_latest_submission_data"]!=undefined&&element["user_latest_submission_data"]["exec_status"]!=undefined&element["user_latest_submission_data"]["exec_status"]==1){problem_solved_status[element["id"]]=true}else{problem_solved_status[element["id"]]=false}$("#problem").append(`<option value="${element["id"]}">${element["problem_name"]}</option>`);problemsCard+=` <div class="problem-list-card">\n                  <div class="card-content">\n                      <div class="problem-details">\n                          <p class="question-title pclass${element["id"]}">\n                              ${element["problem_name"]}&nbsp;&nbsp;\n                              ${element["user_latest_submission_data"]!=undefined&&element["user_latest_submission_data"]["exec_status"]!=undefined?element["user_latest_submission_data"]["exec_status"]==1?`<img class="sign" src=${SUBMISSION_TYPE_SIGN["correct"]}>`:`<img class="sign" src=${SUBMISSION_TYPE_SIGN["incorrect"]}>`:""}\n                          </p>\n                          <div class="sub-accuracy">\n                              <div class="sub-div">\n                                  <p class="submission">\n                                      Submission: <strong class="sub-count">${element["all_submissions"]}</strong>\n                                  </p>\n                              </div>\n                              <div class="acc-div">\n                                  <p class="accuracy">\n                                      Accuracy: <strong class="sub-count"> ${element["accuracy"]}</strong>\n                                  </p>\n                              </div>\n                          </div>\n                      </div>\n                      <div class="max-score-solve">\n                          <p class="max-marks">\n                              Max Marks: <strong class="marks"> ${element["marks"]}</strong>\n                          </p>\n                      <button class="btn btn-success solve" id="${count}" >Solve</button>\n                      </div>\n                  </div>\n              </div>\n              `;count++});$("#cLoader").hide();$(".submission-details").show();updateSubmitModals();$(".card-list").append(problemsCard)}else{$(".no-sub-img").css("display","block");$(".sub-table-div").css("display","none")}},loadPreviousQuestionQuiz:function(question_order){var _self=this;question_order=parseInt(question_order);var current_question=$(".quiz_question"+"[questionb-order="+question_order+"]");var section_order=current_question.attr("section-order");previous_question_order=question_order-1;previous_question=$(".quiz_question[questionb-order="+previous_question_order+"]");_self.showQuestionfromQuestionSelector(previous_question_order);if(previous_question.attr("last-question-section")=="true"){var section_order=parseInt($(".quiz_question"+"[questionb-order="+previous_question_order+"]").attr("section-order"));var section_id=$(".quiz_section_right[section-order="+section_order+"]").attr("section-id");$("#quiz_section_select").val(section_id);$(".quiz_section_left").hide();$(".quiz_section_left[section-id="+section_id+"]").show()}},loadLeaderboardRankingsData:function(currentPage=1,leaderboardType="current"){var _self=this;$(_self.leaderboardLoader).show();$(_self.leaderboardCover).hide();_self.lastFetchedLeaderboardPage=currentPage;_self.lastFetchedLeaderboardType=leaderboardType;$.ajax({type:"GET",url:_self.controllerPath+"/leaderboard/"+"?page="+currentPage+"&type="+leaderboardType,crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},data:{},success:function(response,textStatus,xhr){let pageSize=20;if(xhr.status==200){if(response["results"]["rows_count"]==0){$(_self.leaderboardRankingTableSelector).html("");$(_self.leaderboardRankingPaginationSelector).html("No records found");return}let leaderboard_rankings_data=response["results"]["ranks_list"];let noOfPages=Math.ceil(response["results"]["rows_count"]/pageSize);let displayQuizScore=response["results"]["display_quiz_score"];let displayCodingScore=response["results"]["display_coding_score"];let contestTiming=response["results"]["contest_timing"];let quizHeader="";let codingHeader="";let timingHeader="";if(displayQuizScore)quizHeader='<th scope="col">Quiz</th>';if(displayCodingScore)codingHeader='<th scope="col">Coding</th>';if(leaderboardType=="current"){if(contestTiming==1)timingHeader='<th scope="col">Time Taken : </th>';else timingHeader='<th scope="col">Last Correct Submission :</th>'}let tableHeaderHTML=`<thead>\n              <tr>\n              <th scope="col">Rank</th>\n              <th scope="col">Geek</th>\n            `+timingHeader+quizHeader+codingHeader+`  \n              <th scope="col">Total</th>\n              </tr>\n          </thead>\n          <tbody>\n          </tbody>\n          `;$(_self.leaderboardRankingTableSelector).html(tableHeaderHTML);for(var i=0;i<leaderboard_rankings_data.length;i++){let stripedClass="";let rank=leaderboard_rankings_data[i]["rank"];let profileLink=leaderboard_rankings_data[i]["profile_link"];let handle=leaderboard_rankings_data[i]["handle"];let codingScore=leaderboard_rankings_data[i]["coding_score"];let quizScore=leaderboard_rankings_data[i]["quiz_score"];let score=leaderboard_rankings_data[i]["score"];let plagCheck=leaderboard_rankings_data[i]["has_plagiarism_submissions_for_user"];let quizScoreTd="";let codingScoreTd="";let timingTd="";if(displayQuizScore)quizScoreTd=`<td>`+quizScore+`</td>`;if(displayCodingScore){if(plagCheck!=undefined&&plagCheck==true){codingScoreTd=`<td>`+codingScore+` <i class="fa fa-info-circle coding-score-plag-tooltip" aria-hidden="true">`+`</i>`+`<p class="coding-plag-message">`+"Coding problem score has been deducted due to plagiarism"+`</p>`+`</td>`}else{codingScoreTd=`<td>`+codingScore+`</td>`}}if(leaderboardType=="current"){if(contestTiming==1){timingTd=`<td>`+leaderboard_rankings_data[i]["time_taken"]+`</td>`}else{if(leaderboard_rankings_data[i]["last_correct_submission"]!=undefined){var date=new Date(leaderboard_rankings_data[i]["last_correct_submission"]);var dateStr=date.getFullYear()+"-"+("00"+(date.getMonth()+1)).slice(-2)+"-"+("00"+date.getDate()).slice(-2)+" "+("00"+date.getHours()).slice(-2)+":"+("00"+date.getMinutes()).slice(-2)+":"+("00"+date.getSeconds()).slice(-2);leaderboard_rankings_data[i]["last_correct_submission"]=dateStr}timingTd=`<td>`+leaderboard_rankings_data[i]["last_correct_submission"]+`</td>`}}if(i%2)stripedClass=' class="striped"';$(_self.leaderboardRankingTableSelector).append(`<tr`+stripedClass+`>`+`<td>`+rank+`</td>`+`<td>`+'<a class="userHandle gfgGreen" href="'+profileLink+'">'+handle+`</a></td>`+timingTd+quizScoreTd+codingScoreTd+`<td class="gfgGreen totalScore">`+score+`</td>`+`</tr>`)}$(_self.leaderboardRankingPaginationSelector).html(new Pagination(currentPage,noOfPages).render())}},error:function(jqXHR,exception,errorThrown){},complete:function(jqXHR,xhrStatus){$(_self.leaderboardLoader).hide();$(_self.leaderboardCover).show();if(jqXHR.status!=200){let response=$.parseJSON(jqXHR.responseText);$(_self.leaderboardRankingTableSelector).html("");if("error"in response&&"message"in response["error"]){$(_self.leaderboardRankingPaginationSelector).html(response["error"]["message"])}else{$(_self.leaderboardRankingPaginationSelector).html("Some error occured. Kindly refresh,If it still persists, kindly contact us at feedback@geeksforgeeks.org")}}}})},showQuestionfromQuestionSelector:function(question_order){var _self=this;current_question=$('.quiz_question[questionb-order="'+question_order+'"]');question_id=current_question.attr("question-id");$(_self.quizQuestion).hide();current_question.show();$(_self.quizQuestionSelector).removeClass("current");$(_self.quizQuestionSelector+"[data-id="+question_id+"]").addClass("current");if(parseInt(question_order)==1){$(_self.quizPreviousButton).prop("disabled",true);$(_self.quizPreviousButton).css("color","#989898")}else{$(_self.quizPreviousButton).prop("disabled",false);$(_self.quizPreviousButton).css("color","#103750")}if($(".quiz_question"+"[questionb-order="+question_order+"]").attr("last-question-quiz")=="true"){$(_self.quizNextButton).prop("disabled",true);$(_self.quizNextButton).css("color","#989898")}else{$(_self.quizNextButton).prop("disabled",false);$(_self.quizNextButton).css("color","#103750")}_self.setQuizButtonsMeta($('.quiz_question[question-id="'+question_id+'"]').attr("questionb-order"),question_id);if($(_self.quizQuestionSelector+"[data-id="+question_id+"]").hasClass("marked")){$(".bottom_button_bookmark_quiz").addClass("marked")}else{$(".bottom_button_bookmark_quiz").removeClass("marked")}},setQuizButtonsMeta:function(question_order,question_id){var _self=this;$(_self.quizPreviousButton).attr("question-order",question_order);$(_self.quizNextButton).attr("question-order",question_order);$(_self.quizBookmarkButton).attr("question-order",question_order);$(_self.quizBookmarkButton).attr("question-id",question_id);$(_self.quizSaveAndNextButton).attr("question-id",question_id);$(_self.quizSaveAndNextButton).attr("question-order",question_order);$(_self.quizSaveAndNextButton).text(_self.getTextForSubmitButton());$(_self.quizSaveAndNextInfo).html(_self.getTextForSubmitInfo());$(_self.quizSaveAndNextButton).css("padding-left","");$(_self.quizSaveAndNextButton).attr("disabled",false);if(faultyQuestions.includes(String(question_id))){$(_self.quizSaveAndNextButton).hide()}else{$(_self.quizSaveAndNextButton).show()}},showLeftQuizSection:function(section_id){var _self=this;$(".quiz_section_left").hide();$(".quiz_section_left[section-id="+section_id+"]").show();_self.showQuestionfromQuestionSelector($(".quiz_section_right[section-id="+section_id+"] :first-child").attr("questionb-order"))},selectQuizOption:function(question_id,option_id){var _self=this;if(isContestEndedForUser&&$(".quiz_question_select[data-id="+question_id+"]").hasClass("answered")){_self.showErrorMessage("You have already submitted this question");return}if(_self.fixedContestLiveButUserEnded){_self.showErrorMessage("Contest is still live, you can practice questions once contest gets over");return}if(isContestEndedForUser&&_self.showAnswers===false){_self.showErrorMessage("You can practice questions after "+_self.showAnswersTime);return}var current_option=$(".contest_quiz_option[question-id="+question_id+"][option-id="+option_id+"]");if(current_option.hasClass("option_selected")){current_option.removeClass("option_selected")}else{if(current_option.attr("multiple-correct")=="0"||current_option.attr("multiple-correct")==0){$(".contest_quiz_option[question-id="+question_id+"]").removeClass("option_selected")}current_option.addClass("option_selected")}},clearSubjectiveResponse:function(question_id){var _self=this;if(isContestEndedForUser&&$(".quiz_question_select[data-id="+question_id+"]").hasClass("answered")){_self.showErrorMessage("You have already submitted this question");return}if(_self.fixedContestLiveButUserEnded){_self.showErrorMessage("Contest is still live, you can practice questions once contest gets over");return}if(isContestEndedForUser&&_self.showAnswers===false){_self.showErrorMessage("You can practice questions after "+_self.showAnswersTime);return}$(".contest_quiz_subjective_answer"+"[question-id="+question_id+"]")[0].value="";$($(".contest_quiz_subjective_answer"+"[question-id="+question_id+"]")[0]).attr("disabled",false)},prepareQuizQuestionsData:function(sections){var _self=this;var questionb_order=1;var first_question_done=true;let sectionsCount=sections.length;if(sectionsCount>1)$(_self.quizSectionHeaderSelector).text("Select Section ("+sectionsCount.toString()+" sections)");sections.forEach(section=>{$(_self.quizSectionSelector).append("<option section-order='"+section.section_order+"' value='"+section.section_id+"'>"+section.section_name+"</option>");questionsLeftHTML="";questionsRightHTML=`<div class="quiz_section_right" section-id="`+section.section_id+`" section-order="`+section.section_order+`">`;section.questions_meta.forEach(question=>{question_status=_self.userQuizResponse[question.question_id]?_self.userQuizResponse[question.question_id].user_response:null;questionsLeftHTML+=`\n          <div class="col-md-2">\n            <div class="quiz_question_select `+(question_status?_self.getQuizQuestionStatusFromArray(parseInt(question_status.user_response_status)):" ")+(first_question_done==true?" current":"")+`" data-id="`+question.question_id+`" section-id="`+section.section_id+`" section-order="`+section.section_order+`" questionb-order="`+questionb_order+`">\n                `+question.question_order+`\n            </div>\n          </div>\n        `;questionPositiveMarks=questionNegativeMarks=marksScored="";if(question.question_mark!=undefined&&question.question_mark!=0){questionPositiveMarks='<div class="question_positive_marks">Correct Answer: +'+question.question_mark+" Marks</div>";marksScored=`<div class="positive_marks_scored_in_quiz" style="display:none; background: #2F8D461A;" question-id="${question.question_id}">Marks Scored: +${question.question_mark}</div>`}if(question.negative_mark_value!=undefined&&parseFloat(question.negative_mark_value)!=0){questionNegativeMarks='<div class="question_negative_marks">Wrong Answer: -'+parseFloat(question.negative_mark_value).toString()+" Marks</div>";marksScored=marksScored+`<div class="negetive_marks_scored_in_quiz" style="display:none; background: #D641411A;" question-id="${question.question_id}">Marks Scored: -${parseFloat(question.negative_mark_value).toString()}</div>`}else{marksScored=marksScored+`<div class="negetive_marks_scored_in_quiz" style="display:none;" question-id="${question.question_id}">Marks Scored: 0</div>`}var first_question_section=question.question_order==1?true:false;var last_question_section=question.question_order==section.questions_meta.length?true:false;var last_question_quiz=section.section_order==sections.length&&question.question_order==section.questions_meta.length?true:false;var cdn_operations="<h4>Sorry unable to load this question at the moment. Please attempt other questions.</h4>";var cdn_marks="";var quizEditURL="";var has_cdn_data=question.cdn_data&&Object.keys(question.cdn_data).length>0;if(has_cdn_data){cdn_operations=question.cdn_data.statement;cdn_marks=marksScored+questionPositiveMarks+questionNegativeMarks;quizEditURL=_self.userQuizResponse[question.question_id]?_self.userQuizResponse[question.question_id].edit_url:null;quizEditURL=quizEditURL==null?"":`<small class="pull-right"><a target="_blank" href="${quizEditURL.replace("QUIZ_ID",question.cdn_data.quiz_id)}"><i class="fas fa-edit fa-2x" title="Edit Question"></i></a></small>`}else{faultyQuestions.push(String(question.question_id))}questionsRightHTML+=`\n          <div class="quiz_question" style="`+(question.question_order==1&&section.section_order==1?"":"display:none")+`" question-id="`+question.question_id+`"\n                      question-order="`+question.question_order+`" section-id="`+section.section_id+`"\n                      section-order="`+section.section_order+`" questionb-order="`+questionb_order+`"\n                      first-question-section="`+first_question_section+`" last-question-section="`+last_question_section+`"\n                      last-question-quiz="`+last_question_quiz+`"\n                      question-type="${has_cdn_data?question.cdn_data.question_type:"objective"}">\n            <div class="question_statement_wrapper">\n                <div class="question">`+(_self.displayCorrectAnswer==true?`<div style="margin-bottom: 0.5rem;display: block;font-family: 'sofia-pro';color: #A1A1A1;"> <span>This contest is open for practice, you can submit and practice questions, if you attempted the contest you can view your submissions by clicking on "Reveal Answers Button"</span></div>`:``)+`<div class="question_meta">\n                        <div class="question_number_wrapper">QUESTION <span class="question_number">`+question.question_order+`</span>\n                        </div>\n                        <div class="question_tags">\n                          `+cdn_marks+`\n                        </div>\n                        ${quizEditURL}\n                    </div>\n                    <div class="question_statement">\n                      ${cdn_operations}\n                    </div>\n\n                </div>\n            </div>\n            ${has_cdn_data?`<div class="question_no_of_options">\n              ${question.cdn_data.options?`<p style='margin-top: 20px; font-size: 16px;'>Number of Options: ${question.cdn_data.options.length}</p>`:""}\n            </div>`:""}\n         `;if(question.cdn_data&&question.cdn_data.question_type=="subjective"){var has_answered=question_status&&question_status.user_response_ids!="";questionsRightHTML+='<div class="question_answer row">';questionsRightHTML+=`\n                <section class="subjective_answer_container" style="margin-top: 20px" question-id="${question.question_id}">\n                  <label for="answer" class="subjective_label">\n                                    Enter Your Answer:\n                  </label>\n                  <div style="display:flex;align-items: center;">\n                  <input value="${has_answered?question_status.user_response_ids:""}"\n                          question-id="${question.question_id}"\n                          onkeypress="inpNum(event, ${question.question_id})"\n                          class="contest_quiz_subjective_answer form-control" type="text" name="answer"\n                          ${has_answered||_self.fixedContestLiveButUserEnded||isContestEndedForUser&&!_self.showAnswers?"disabled":""}>\n                  <div class="quiz_head_inforTag">\n                    <i question-id="${question.question_id}" class="fa fa-times-circle reset_ans_icon quiz_head_inforTag_btn"></i>\n                    <p class="quiz_head_infoTag_tooltip"> Edit your response </p>\n                  </div>\n                  <i class="fas fa-check-circle correct_ans_icon"></i>\n                  <i class="fas fa-times-circle wrong_ans_icon"></i>\n                  </div>\n                </section>\n          `}else{questionsRightHTML+='<div class="question_options row">';var options=question.cdn_data&&question.cdn_data.options?question.cdn_data.options:[];for(var option=0;option<Object.keys(options).length;option+=2){var selected1=false,selected2=false,checkODDlen=true,is_multiple_correct=false;is_multiple_correct=question.cdn_data&&question.cdn_data.is_multiple_correct;if(question_status&&question_status.user_response_ids_list.includes(options[option].id)){selected1=true}if(option+1>=Object.keys(options).length){checkODDlen=false}if(checkODDlen&&question_status&&question_status.user_response_ids_list.includes(options[option+1].id)){selected2=true}questionsRightHTML+=`\n                    <section class="quiz_container">\n                        <article class="contest_quiz_option `+(selected1==true?"option_selected":"")+` " question-id="`+question.question_id+`" option-id="`+options[option].id+`" multiple-correct="`+(is_multiple_correct==false?"0":"1")+`">\n                            <i class="far ${is_multiple_correct==false?"fa-circle":"fa-square"}"></i>\n                            <label class="form-check-label" for="option1">\n                                `+options[option].text+`\n                            </label>\n                        </article>`;if(checkODDlen){questionsRightHTML+=`\n                        <article class="contest_quiz_option `+(selected2==true?"option_selected":"")+` " question-id="`+question.question_id+`" option-id="`+options[option+1].id+`" multiple-correct="`+(is_multiple_correct==false?"0":"1")+`">\n                            <i class="far ${is_multiple_correct==false?"fa-circle":"fa-square"}"></i>\n                            <label class="form-check-label" for="option1">\n                                `+options[option+1].text+`\n                            </label>\n                        </article>`}questionsRightHTML+=`</section>`}}questionsRightHTML+=`</div>`;if(question.cdn_data&&question.cdn_data.question_type=="subjective"){questionsRightHTML+=`<div class="subjective_question_answer" question-id="`+question.question_id+`" questionb-order="`+questionb_order+`">\n                                      <div class="subjective_question_answer_title">ANSWER\n                                      </div>\n                                      <div class="subjective_question_answer_body">\n                                      </div>\n                                  </div>`}questionsRightHTML+=`<div class="question_explanation" question-id="`+question.question_id+`" questionb-order="`+questionb_order+`">\n                                    <div class="question_explanation_title">EXPLANATION\n                                    </div>\n                                    <div class="question_explanation_body">\n                                    </div>\n                                </div>`;questionsRightHTML+=`</div>`;questionb_order+=1;if(first_question_done==true){_self.setQuizButtonsMeta(1,question.question_id);first_question_done=false}});questionsRightHTML+=`</div>`;$(_self.quizQuestions).append(questionsRightHTML);sectionQuestionsHTML=`\n        <div class="quiz_section_left" section-id="`+section.section_id+`" section-id="`+section.section_order+`" style="`+(section.section_order==1?"":"display:none")+`" >\n          <div class="row">\n          `+questionsLeftHTML+`\n          </div>\n        </div>\n      `;$(_self.quizQuestionsSections).append(sectionQuestionsHTML);quizSectionRightHTML=`\n      <div class="quiz_section_right" section-id="`+section.section_id+`">\n      `});let question_id=$('.quiz_question[questionb-order="1"]').attr("question-id");if($(_self.quizQuestionSelector+"[data-id="+question_id+"]").hasClass("marked")){$(".bottom_button_bookmark_quiz").addClass("marked")}else{$(".bottom_button_bookmark_quiz").removeClass("marked")}},updateUserAction:function(action,question_id){var _self=this;var question_type=$(".quiz_question[question-id="+question_id+"]").attr("question-type");$.ajax({type:"PUT",url:_self.controllerPath+"/quiz/qo/"+question_id+"/"+action+"/",crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},data:{question_type:question_type},success:function(response){if(response.status!="success"){_self.showErrorMessage(`${response.message}`);$(_self.quizSaveAndNextButton).text(_self.getTextForSubmitButton());$(_self.quizSaveAndNextButton).css("padding-left","");$(_self.quizSaveAndNextButton).attr("disabled",true);_self.revertBookmarkButtonChanges(action,question_id)}},error:function(jqXHR,exception,errorThrown){$(_self.quizSaveAndNextButton).text(_self.getTextForSubmitButton());$(_self.quizSaveAndNextButton).css("padding-left","");$(_self.quizSaveAndNextButton).attr("disabled",true);if(jqXHR.status==0){_self.revertBookmarkButtonChanges(action,question_id);_self.showErrorMessage(`Please check your internet connection`)}else{$(_self.errorModalContest).modal()}},complete:function(){}})},revertBookmarkButtonChanges:function(action,question_id){var _self=this;if(action==2){$(".quiz_question_select[data-id="+question_id+"]").removeClass("marked");$(_self.quizBookmarkButton).removeClass("marked")}else{$(".quiz_question_select[data-id="+question_id+"]").addClass("marked");$(_self.quizBookmarkButton).addClass("marked")}_self.quizQuestionMarkedCount+=action==2?-1:1;_self.updateQuizQuestionsMeta()},submitQuestionResponse:function(question_id,question_order){var _self=this;let currentQuestionOrder=$(_self.quizSaveAndNextButton).attr("question-order");if(isContestEndedForUser&&$(".quiz_question_select[data-id="+question_id+"]").hasClass("answered")){_self.showErrorMessage("You have already submitted response to this question");return}if(_self.fixedContestLiveButUserEnded){_self.showErrorMessage("Contest is still live, you can practice questions once contest gets over");return}if(isContestEndedForUser&&_self.showAnswers===false){_self.showErrorMessage("You can submit questions after "+_self.showAnswersTime);return}$(_self.quizActionBtn).attr("disabled",true);response="";var question_type=$(".quiz_question[question-id="+question_id+"]").attr("question-type");if(question_type=="subjective"){response=$(".contest_quiz_subjective_answer"+"[question-id="+question_id+"]")[0].value;if(isContestEndedForUser&&response===""){_self.showErrorMessage("Answer Field Cannot be Empty");$(_self.quizActionBtn).attr("disabled",false);return}$($(".contest_quiz_subjective_answer"+"[question-id="+question_id+"]")[0]).attr("disabled",true)}else{var options=$(".contest_quiz_option"+"[question-id="+question_id+"]");var responseArray=[];options.each(function(index,element){var option=$(element);if(option.hasClass("option_selected")){response+=option.attr("option-id")+",";responseArray.push(option.attr("option-id"))}});if(isContestEndedForUser&&response===""){_self.showErrorMessage("Select at least one option");$(_self.quizActionBtn).attr("disabled",false);return}response=response.substring(0,response.length-1)}$(_self.quizSaveAndNextButton).attr("disabled",true);$(_self.quizSaveAndNextButton).text(_self.getTextForSubmitButton(true));$(_self.quizSaveAndNextButton).css("padding-left","15px");$.ajax({type:"POST",url:_self.controllerPath+"/quiz/q/"+question_id+"/submit/",crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},data:{response:response,question_type:question_type},success:function(response){if(response.status==true){if(_self.displayCorrectAnswer==true){if(response.response.status){$(".quiz_question_select[questionb-order="+question_order+"]").addClass("correct")}else{$(".quiz_question_select[questionb-order="+question_order+"]").addClass("incorrect")}if(question_type=="subjective"){$(".subjective_question_answer[question-id="+question_id+"] .subjective_question_answer_body").html(response.response.answer_value);$(".subjective_question_answer[question-id="+question_id+"]").show();$(".subjective_answer_container[question-id="+question_id+"] .reset_ans_icon").hide();if(response.response.status){$(".subjective_answer_container[question-id="+question_id+"] .correct_ans_icon").show()}else{$(".subjective_answer_container[question-id="+question_id+"] .wrong_ans_icon").show()}}else{correctAnswersArray=response.response.correct_answer_ids;responseArray.forEach(option_id=>{correctAnswersArray.forEach(answer_id=>{if(option_id!=answer_id){$(".contest_quiz_option[option-id="+option_id+"]").addClass("incorrect_answer_quiz")}$(".contest_quiz_option[option-id="+answer_id+"]").addClass("correct_answer_quiz")})})}if(response.response.explanation!=""){$(".question_explanation[question-id="+question_id+"] .question_explanation_body").html(response.response.explanation);$(".question_explanation[question-id="+question_id+"]").show()}}else if(response.response.fixed_contest_live_but_user_ended){_self.showErrorMessage("Contest is still live, you can practice questions once contest gets over")}if($(".quiz_question_select[questionb-order="+question_order+"]").hasClass("marked")){_self.quizQuestionMarkedCount-=1;$(_self.quizBookmarkButton).removeClass("marked")}if(response.response.attempt_count_change!=-1){$(".quiz_question_select[questionb-order="+question_order+"]").removeClass("marked");$(".quiz_question_select[questionb-order="+question_order+"]").addClass("answered")}else{$(".quiz_question_select[questionb-order="+question_order+"]").removeClass("answered");if(question_type=="subjective"){_self.clearSubjectiveResponse(question_id)}}if(!response.response.fixed_contest_live_but_user_ended&&response.response.attempt_count_change){_self.quizQuestionAnsweredCount+=response.response.attempt_count_change;_self.quizQuestionUnansweredCount-=response.response.attempt_count_change}$(".quiz_question"+"[questionb-order="+question_order+"]").attr("freeze",true);_self.updateQuizQuestionsMeta()}else{if(question_type=="subjective")$($(".contest_quiz_subjective_answer"+"[question-id="+question_id+"]")[0]).attr("disabled",false);_self.showErrorMessage(response.message)}$(_self.quizSaveAndNextButton).text(_self.getTextForSubmitButton());$(_self.quizSaveAndNextButton).css("padding-left","");$(_self.quizSaveAndNextButton).attr("disabled",false);PR.prettyPrint();MathJax.typesetPromise(["body"]).catch(err=>console.log(err.message));if(response.response&&response.response.sub_status=="SUCCESS"&&currentQuestionOrder==$(_self.quizSaveAndNextButton).attr("question-order")){_self.loadNextQuestionQuiz($(_self.quizSaveAndNextButton).attr("question-order"),true)}},error:function(jqXHR,exception,errorThrown){if(question_type=="subjective")$($(".contest_quiz_subjective_answer"+"[question-id="+question_id+"]")[0]).attr("disabled",false);$(_self.quizSaveAndNextButton).text(_self.getTextForSubmitButton());$(_self.quizSaveAndNextButton).css("padding-left","");$(_self.quizSaveAndNextButton).attr("disabled",true);if(jqXHR.status==0){_self.showErrorMessage("Please check your internet connection")}else if(jqXHR.status==403){_self.showErrorMessage(jqXHR.responseJSON.error.message)}else{$(_self.errorModalContest).modal()}},complete:function(){$(_self.quizActionBtn).not(_self.quizNextButton).not(_self.quizPreviousButton).attr("disabled",false);if(currentQuestionOrder==$(_self.quizSaveAndNextButton).attr("question-order")){_self.showQuestionfromQuestionSelector(currentQuestionOrder)}}})},revealQuestionAnswer:function(){var _self=this;if($(_self.revealAnswerBtn).hasClass("revealed")){if(_self.showAnswers==true)_self.showErrorMessage("You have already revealed the answer");else _self.showErrorMessage("You have already reviewed submissions");return}$(_self.revealAnswerActionBtn).attr("disabled",true);$(_self.revealAnswerBtn).attr("disabled",true);if(_self.showAnswers==true){$(_self.revealAnswerBtn).text("Revealing...")}else{$(_self.revealAnswerBtn).text("Reviewing...")}$.ajax({type:"GET",url:_self.controllerPath+"/quiz/q/user_response/",crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},data:{},success:function(response){if(response.status=="OK"){if(_self.showAnswers==true){$(_self.revealAnswerBtn).html('<span>Answer Revealed<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l5 5l10 -10" /></svg></span>')}else{$(_self.revealAnswerBtn).html("<span>Submissions Reviewed</span>")}$(_self.revealAnswerActionBtn).css("width","100%");$(_self.revealAnswerActionBtn).css("max-width","20rem");$(_self.revealAnswerBtn).addClass("revealed");questionArray=response.response;_self.clearAllQuestionResponse();questionArray.forEach(item=>{question_id=item.question_id;question_type=item.question_type;user_response_status=item.user_response_status;$(".quiz_question_select[data-id="+question_id+"]").addClass("answered");_self.quizQuestionAnsweredCount+=1;_self.quizQuestionUnansweredCount-=1;if(_self.showAnswers==true){if(user_response_status==1){$(".positive_marks_scored_in_quiz[question-id="+question_id+"]").show();$(".quiz_question_select[data-id="+question_id+"]").addClass("correct")}else if(user_response_status==0){$(".negetive_marks_scored_in_quiz[question-id="+question_id+"]").show();$(".quiz_question_select[data-id="+question_id+"]").addClass("incorrect")}}if(question_type=="subjective"){user_response=item.user_response_ids;$(".contest_quiz_subjective_answer"+"[question-id="+question_id+"]")[0].value=user_response;$($(".contest_quiz_subjective_answer"+"[question-id="+question_id+"]")[0]).attr("disabled",true);if(_self.showAnswers==true){$(".subjective_question_answer[question-id="+question_id+"] .subjective_question_answer_body").html(item.answer_value);$(".subjective_question_answer[question-id="+question_id+"]").show();$(".subjective_answer_container[question-id="+question_id+"] .reset_ans_icon").hide();if(user_response_status==1){$(".subjective_answer_container[question-id="+question_id+"] .correct_ans_icon").show()}else if(user_response_status==0){$(".subjective_answer_container[question-id="+question_id+"] .wrong_ans_icon").show()}}}else{user_response=item.user_response_ids;user_response_ids_list=item.user_response_ids_list;if(_self.showAnswers==true){correctAnswersArray=item.correct_answer_ids}if(!user_response.includes(",")){user_response_ids_list=[user_response_ids_list]}user_response_ids_list.forEach(user_res=>{if(user_res!=""){$(".contest_quiz_option[option-id="+user_res+"]").addClass("option_selected");if(_self.showAnswers==true){if(user_response_status==1){$(".contest_quiz_option[option-id="+user_res+"]").addClass("correct_answer_quiz")}else if(user_response_status==0){$(".contest_quiz_option[option-id="+user_res+"]").addClass("incorrect_answer_quiz")}}}});if(_self.showAnswers==true){correctAnswersArray.forEach(answer_id=>{$(".contest_quiz_option[option-id="+answer_id+"]").addClass("correct_answer_quiz")})}}if(_self.showAnswers==true){if(item.explanation!=""){$(".question_explanation[question-id="+question_id+"] .question_explanation_body").html(item.explanation);$(".question_explanation[question-id="+question_id+"]").show()}}});_self.updateQuizQuestionsMeta()}else{_self.showErrorMessage("Not able to fetch ");if(_self.showAnswers==true){$(_self.revealAnswerBtn).text("Reveal Answer")}else{$(_self.revealAnswerBtn).text("Review Submissions")}$(_self.revealAnswerBtn).css("padding-bottom","");$(_self.revealAnswerBtn).attr("disabled",true)}PR.prettyPrint();MathJax.typesetPromise(["body"]).catch(err=>console.log(err.message))},error:function(jqXHR,exception,errorThrown){if(_self.showAnswers==true){$(_self.revealAnswerBtn).text("Reveal Answer")}else{$(_self.revealAnswerBtn).text("Review Submissions")}$(_self.revealAnswerBtn).css("padding-bottom","");$(_self.revealAnswerBtn).attr("disabled",true);if(jqXHR.status==0){_self.showErrorMessage("Please check your internet connection")}else if(jqXHR.status==403){_self.showErrorMessage(jqXHR.responseJSON.error.message)}else if(jqXHR.status==404){$(_self.revealAnswerBtn).hide();_self.showErrorMessage(jqXHR.responseJSON.error.message)}else{$(_self.errorModalContest).modal()}},complete:function(){$(_self.revealAnswerActionBtn).attr("disabled",false)}})},showErrorMessage:function(message){$("#snackbar").text(message);$("#snackbar").addClass("show");setTimeout(()=>{$("#snackbar").removeClass("show").addClass("hide")},2e3)},updateQuizQuestionsMeta:function(){var _self=this;$(_self.quizQuestionAnsweredCountSelector).text(_self.quizQuestionAnsweredCount);$(_self.quizQuestionMarkedCountSelector).text(_self.quizQuestionMarkedCount);$(_self.quizQuestionUnansweredCountSelector).text(_self.quizQuestionUnansweredCount)},showFeedbackModal:function(){$("#feedbackModal").modal();const player=document.querySelector(".feedback_lott");player.play()},showFeedbackModalFixedContest:function(){$("#feedbackModal").modal();$(".feedback_lott").remove();$(".feedback_experience").html("Rate your overall experience for the contest.");$(".feedback_experience").css("display","block");$(".feedback_experience").css("text-align","center");$(".feedback_experience").css("padding","1em");$(".feedback_experience").css("margin","5em");$(".feedback_experience").css("font-size","16")},loadNextQuestionQuiz:function(question_order,is_circular=false){var _self=this;var next_question_order=parseInt(question_order)+1;var current_question=$(".quiz_question"+"[questionb-order="+question_order+"]");if(is_circular&&current_question.attr("last-question-quiz")=="true"){next_question_order=1}var next_question=$(".quiz_question"+"[questionb-order="+next_question_order+"]");_self.showQuestionfromQuestionSelector(next_question_order);if(current_question.attr("last-question-section")=="true"){var section_order=parseInt($(".quiz_question"+"[questionb-order="+next_question_order+"]").attr("section-order"));var section_id=$(".quiz_section_right[section-order="+section_order+"]").attr("section-id");$("#quiz_section_select").val(section_id);$(".quiz_section_left").hide();$(".quiz_section_left[section-id="+section_id+"]").show()}},submitFeedback:function(feedbackBtn){var _self=this;if($("#ratingForm :radio:checked").length==0){_self.showErrorMessage("Select Rating for the Contest");feedbackBtn.disabled=false;return}else{rating_star_value=$("input:radio[name=rating]:checked").val();rating_message=$("#feedback_text").val(function(i,v){const regex=/[^A-Za-z0-9 -]/g;return v.replace(regex,"")}).val();var formMainData=new FormData;formMainData.append("entity_type","contest");formMainData.append("entity_id",contestId);formMainData.append("rating",rating_star_value);formMainData.append("feedback_message",rating_message);$.ajax({type:"POST",url:practiceHost+"user/feedback/",crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},data:formMainData,processData:false,contentType:false,success:function(response){},error:function(jqXHR,exception,errorThrown){_self.showErrorMessage(jqXHR.responseJSON.error.message)},complete:function(){_self.changeContestScreenAfterFinish()}})}},markForReviewQuestion:function(question_order,question_id){var _self=this;if($(".quiz_question_select"+"[questionb-order="+question_order+"]").hasClass("answered")){_self.showErrorMessage("You have already submitted this question");return}if(_self.fixedContestLiveButUserEnded){_self.showErrorMessage("Contest is still live, you can not mark/unmark questions for review!");return}let action=2;if($(".quiz_question_select"+"[questionb-order="+question_order+"]").hasClass("marked")){action=3}_self.showErrorMessage(`Question Successfully ${action==2?"Marked for Review":"Unmarked"}`);if(action==2){$(".quiz_question_select[data-id="+question_id+"]").addClass("marked");$(_self.quizBookmarkButton).addClass("marked")}else{$(".quiz_question_select[data-id="+question_id+"]").removeClass("marked");$(_self.quizBookmarkButton).removeClass("marked")}_self.quizQuestionMarkedCount+=action==2?1:-1;_self.updateQuizQuestionsMeta();_self.updateUserAction(action,question_id)},finishFlexibleContest:function(){var _self=this;$.ajax({type:"PUT",url:_self.controllerPath+"/end/"+"?reason="+"submitByUser",crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},data:{},success:function(response){$("#contestSubmitModal").modal("hide");isContestEndedForUser=true;$(_self.quizSaveAndNextButton).text(_self.getTextForSubmitButton());$(_self.quizSaveAndNextInfo).html(_self.getTextForSubmitInfo())},error:function(jqXHR,exception,errorThrown){},complete:function(){}})},finishFixedContest:function(){$("#contestSubmitModal").modal("hide");isContestEndedForUserInBrowser=true;localStorage.setItem(sessionKeyForUser,true)},getTextForSubmitButton:function(is_processing_response=false){if(isContestEndedForUser){return is_processing_response?"Submitting..":"Submit"}else{return is_processing_response?"Saving..":"Save & Next"}},getTextForSubmitInfo:function(){if(isContestEndedForUser){return"&#9432; You can view answers by clicking <b> Submit </b> button."}else{return"&#9432; Click <b> Save & Next </b> button to save the answer for each question."}},getQuizQuestionStatusFromArray:function(question_status){var _self=this;if(_self.fixedContestLiveButUserEnded&&_self.quizQuestionStatusArray[question_status]=="marked"){return""}return _self.quizQuestionStatusArray[question_status]},clearAllQuestionResponse:function(){var _self=this;$(".quiz_question_select").removeClass("correct");$(".quiz_question_select").removeClass("incorrect");$(".quiz_question_select").removeClass("answered");$(".quiz_question_select").removeClass("marked");$(".contest_quiz_option").removeClass("option_selected");$(".contest_quiz_option").removeClass("correct_answer_quiz");$(".contest_quiz_option").removeClass("incorrect_answer_quiz");if(_self.showAnswers===true){$(".contest_quiz_subjective_answer").attr("disabled",false)}$(".contest_quiz_subjective_answer").val("");$(".subjective_answer_container "+".wrong_ans_icon").hide();$(".subjective_answer_container "+".correct_ans_icon").hide();$(".subjective_question_answer "+".subjective_question_answer_body").html("");$(".subjective_question_answer").hide();$(".question_explanation "+" .question_explanation_body").html("");$(".question_explanation").hide();_self.quizQuestionUnansweredCount+=_self.quizQuestionAnsweredCount;_self.quizQuestionAnsweredCount=0;_self.updateQuizQuestionsMeta()},changeContestScreenAfterFinish:function(){if(contestTiming==0){var _self=this;$("#feedbackModal").modal("hide");if(isContestEndedForUserInBrowser){$("#commentModal .modal-body p").text("Contest Answers will be Auto-Submitted once the timer ends.");$("#commentModal").modal("show")}var classList=[".contest_home_main",".quiz_main",".coding_problems_main"];hideClasses(classList);var newUrl=location.href.replace(currentTab,"instructions");history.pushState({sidebar_tab:"instructions"},null,newUrl);$(".endTest").hide();$(".side_bar").append('<li class="side_tab" data-id="summary"> Summary</li>');$(".header-main__list-item").removeClass("tab_active");$(".header-main__list-item[tab-id=instructions]").addClass("tab_active");$(".contest_home_main").show();_self.ChangeContestHomeScreen("instructions")}else if(contestTiming==1){window.location.replace(currentContestUrl+"summary/")}}};