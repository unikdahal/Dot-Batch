function validURL(string){let url;try{url=new URL(string)}catch(_){return false}return url.protocol==="http:"||url.protocol==="https:"}function getCountryCodeList(country_calling_code_list,identifier,selected){if($(identifier+" > option").length==0){for(var country in country_calling_code_list){if(country_calling_code_list.hasOwnProperty(country)){$(identifier).append('<option value="'+country+'" '+(selected!==null&&selected==country?"selected":"")+">"+country+" : "+country_calling_code_list[country]+"</option>")}}}}function highlightOutputDifference(expectedString,actualString){try{if(actualString==expectedString){return null}outputDifference="";actualCharList=actualString.split("");expectedCharList=expectedString.split("");indexAtActualCharList=indexAtExpectedCharList=0;actualCharListLength=actualCharList.length;expectedCharListLength=expectedCharList.length;flag=true;while(flag){while(indexAtActualCharList<actualCharListLength&&indexAtExpectedCharList<expectedCharListLength){if(actualCharList[indexAtActualCharList]=="\n"&&expectedCharList[indexAtExpectedCharList]!="\n"){if(actualString.slice(0,indexAtActualCharList)==outputDifference){while(expectedCharList[indexAtExpectedCharList]!="\n"){outputDifference+="<span class='highlight' style='line-height:unset;font-size:14px'>"+expectedCharList[indexAtExpectedCharList]+"</span>";indexAtExpectedCharList+=1}}else{while(expectedCharList[indexAtExpectedCharList]!="\n"){indexAtExpectedCharList+=1}}}if(expectedCharList[indexAtExpectedCharList]=="\n"&&actualCharList[indexAtActualCharList]!="\n"){while(actualCharList[indexAtActualCharList]!="\n"){if(actualCharList[indexAtActualCharList]==" "){outputDifference+="<span class='highlight' style='background-color:#990000;line-height:unset;font-size:14px'>&nbsp;&nbsp;</span>"}else{outputDifference+="<span class='highlight' style='line-height:unset;font-size:14px'>"+actualCharList[indexAtActualCharList]+"</span>"}indexAtActualCharList+=1}}if(actualCharList[indexAtActualCharList]!=expectedCharList[indexAtExpectedCharList]){if(actualCharList[indexAtActualCharList]==" "){outputDifference+="<span class='highlight' style='background-color:#990000;line-height:unset;font-size:14px'>&nbsp;&nbsp;</span>"}else{outputDifference+="<span class='highlight' style='line-height:unset;font-size:14px'>"+actualCharList[indexAtActualCharList]+"</span>"}}else{outputDifference+=actualCharList[indexAtActualCharList]}indexAtActualCharList+=1;indexAtExpectedCharList+=1}while(indexAtActualCharList<actualCharListLength){if(actualCharList[indexAtActualCharList]==" "){outputDifference+="<span class='highlight' style='background-color:#990000;line-height:unset;font-size:14px'>&nbsp;&nbsp;</span>";indexAtActualCharList+=1}else{outputDifference+="<span class='highlight' style='line-height:unset;font-size:14px'>"+actualCharList[indexAtActualCharList]+"</span>";indexAtActualCharList+=1}}if(indexAtExpectedCharList<expectedCharListLength){if(actualString.slice(0,indexAtActualCharList)==outputDifference){while(indexAtExpectedCharList<expectedCharListLength){outputDifference+="<span class='highlight' style='line-height:unset;font-size:14px'>"+expectedCharList[indexAtExpectedCharList]+"</span>";indexAtExpectedCharList+=1}}else{while(indexAtExpectedCharList<expectedCharListLength){indexAtExpectedCharList+=1}}}flag=false}return outputDifference}catch(error){console.error(error.stack);return}}userDetails=undefined;function showUserDetailsModal(message,reloadNeeded=false){if(message!=null||message!=undefined){showErrorMsg(message)}if(userDetails==null){$.ajax({type:"GET",url:practiceApiHost+"user/details/",crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},success:function(response){userDetails=response.results;$("#acquireUserDataModal").find("#user-email").html(userDetails["email"]);$("#acquireUserDataModal").find("#user-full-name").val(userDetails["name"]);$("#acquireUserDataModal").find("#user-contact-number").val(userDetails["phone"]);$("#acquireUserDataModal").find("#user-institution").val(userDetails["institute"]);$("#acquireUserDataModal").find("#user-country_calling_code").val(userDetails["country"]);attachClassToUserDetailsModal(reloadNeeded)},error:function(jqXHR,exception,errorThrown){attachClassToUserDetailsModal(reloadNeeded)},complete:function(){}})}else{attachClassToUserDetailsModal(reloadNeeded)}}function attachClassToUserDetailsModal(reloadNeeded){if(reloadNeeded==true){$(".userModalCloseAction").addClass("pageReloadBtn")}$("#acquireUserDataModal").modal("show")}$("body").on("click",".showContestUserDetails",function(event){event.stopImmediatePropagation();showUserDetailsModal(null,null)});$("body").on("click","#submitUserDetails",function(event){event.stopImmediatePropagation();$(".form-group").removeClass("has-error");if($.trim($("#user-full-name").val()).length<3||!/^[a-z][a-z\s]*$/i.test($.trim($("#user-full-name").val()))){showErrorMsg("Name must be atleast three characters and only characters and spaces are allowed");$("#user-full-name").closest(".form-group").addClass("has-error")}else if($("#user-contact-number").val().trim().length!=10||!(!isNaN($("#user-contact-number").val().trim())&&Number.isInteger(parseInt($("#user-contact-number").val().trim())))){showErrorMsg("Contact No. must be 10 digits and only digits are allowed");$("#user-contact-number").closest(".form-group").addClass("has-error")}else if($("#user-institution").val().trim()==""){showErrorMsg("Institute/Company can't be blank and only characters and spaces are allowed");$("#user-institution").closest(".form-group").addClass("has-error")}else{$(".errorMsg").html("");$(this).prop("disabled",true);$(this).attr("disabled",true);$regButtonText=$("#submitUserDetails").text();$("#submitUserDetails").text("Submitting..");let requestData={registerType:"updateUserDetails",fullname:$("#user-full-name").val().trim(),institute:$("#user-institution").val().trim(),phone_number:$("#user-contact-number").val().trim(),country:$("#user-country_calling_code option:selected").val()};$.ajax({type:"POST",url:practiceApiHost+"contest/"+contestSlug+"/register/",crossDomain:true,dataType:"json",xhrFields:{withCredentials:true},data:requestData,success:function(response){data=response["results"]["status"];if(data["status"]=="SUCCESS"){let reloadNeeded=$(".userModalCloseAction").hasClass("pageReloadBtn");showErrorMsg(data["message"],reloadNeeded);$(".userModalCloseAction").removeClass("pageReloadBtn");$("#acquireUserDataModal").modal("hide");$(".get-contest-details-message").hide()}else{showErrorMsg(data["message"]);$("#submitUserDetails").prop("disabled",false)}},error:function(jqXHR,exception,errorThrown){$("#submitUserDetails").prop("disabled",false);handleError(jqXHR,exception,$(this))},complete:function(result){$("#submitUserDetails").text($regButtonText)}})}});$(document).on("hidden.bs.modal","#acquireUserDataModal",function(){if($(".userModalCloseAction").hasClass("pageReloadBtn")){location.reload()}});function showErrorMsg(msg,reloadNeeded=false){$("#snackbar").html(msg);$("#snackbar").addClass("show");setTimeout(function(){$("#snackbar").removeClass("show");if(reloadNeeded==true){location.reload()}},3e3)}function handleError(jqXHR,exception,$this){var msg="";if(jqXHR.status===0){msg="Not connect.\n Verify Network."}else if(jqXHR.status==404){msg="Requested page not found. [404]"}else if(jqXHR.status==500){msg="Internal Server Error [500]."}else if(exception==="parsererror"){msg="Requested JSON parse failed."}else if(exception==="timeout"){msg="Time out error."}else if(exception==="abort"){msg="Ajax request aborted."}else{msg="Uncaught Error.\n"+jqXHR.responseText}showErrorMsg(msg)}